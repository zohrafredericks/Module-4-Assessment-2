<!DOCTYPE HTML>
<html>
<head>
  <link rel="stylesheet" href="style.css">
  <script type="text/javascript" src="javascript/api.js"></script>
  <style>
    body {
      margin: 0;
      padding: 0;
      width: 100%;
      height: 100%;
      background-color: deepskyblue;
    }

    /* --- Drop Grid Containers --- */
    .puzzle-grid-drop {
      width: 200px;
      height: 200px;
      border: 2px dashed white;
      position: absolute;
      overflow: hidden; /* ensures dropped piece stays inside */
    }

    /* --- Grid positions --- */
    #grid1-1 { left: 0px;   top: 0px; }
    #grid1-2 { left: 200px; top: 0px; }
    #grid1-3 { left: 400px; top: 0px; }
    #grid2-1 { left: 0px;   top: 200px; }
    #grid2-2 { left: 200px; top: 200px; }
    #grid2-3 { left: 400px; top: 200px; }
    #grid3-1 { left: 0px;   top: 400px; }
    #grid3-2 { left: 200px; top: 400px; }
    #grid3-3 { left: 400px; top: 400px; }

    /* --- Puzzle pieces on right side --- */
    .draggable-piece {
      position: absolute;
      width: 120px;  /* small for dragging */
      height: 120px;
      cursor: grab;
    }

    /* Right-side positions */
    #img1-1-draggable { top: 0px;   right: 440px; }
    #img1-2-draggable { top: 0px;   right: 220px; }
    #img1-3-draggable { top: 0px;   right: 0px; }
    #img2-1-draggable { top: 220px; right: 440px; }
    #img2-2-draggable { top: 220px; right: 220px; }
    #img2-3-draggable { top: 220px; right: 0px; }
    #img3-1-draggable { top: 440px; right: 440px; }
    #img3-2-draggable { top: 440px; right: 220px; }
    #img3-3-draggable { top: 440px; right: 0px; }

    /* Ensure dropped pieces are positioned inside container */
    .puzzle-grid-drop img.dropped {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
    }
  </style>
</head>
<body>

  <!-- Puzzle Grids (containers) -->
  <div class="puzzle-grid-drop" id="grid1-1" ondrop="resizeDropped(event)" ondragover="allowDrop(event)">
    <img src="images/puzzle-grid.png" style="width:100%; height:100%;">
  </div>
  <div class="puzzle-grid-drop" id="grid1-2" ondrop="resizeDropped(event)" ondragover="allowDrop(event)">
    <img src="images/puzzle-grid.png" style="width:100%; height:100%;">
  </div>
  <div class="puzzle-grid-drop" id="grid1-3" ondrop="resizeDropped(event)" ondragover="allowDrop(event)">
    <img src="images/puzzle-grid.png" style="width:100%; height:100%;">
  </div>

  <div class="puzzle-grid-drop" id="grid2-1" ondrop="resizeDropped(event)" ondragover="allowDrop(event)">
    <img src="images/puzzle-grid.png" style="width:100%; height:100%;">
  </div>
  <div class="puzzle-grid-drop" id="grid2-2" ondrop="resizeDropped(event)" ondragover="allowDrop(event)">
    <img src="images/puzzle-grid.png" style="width:100%; height:100%;">
  </div>
  <div class="puzzle-grid-drop" id="grid2-3" ondrop="resizeDropped(event)" ondragover="allowDrop(event)">
    <img src="images/puzzle-grid.png" style="width:100%; height:100%;">
  </div>

  <div class="puzzle-grid-drop" id="grid3-1" ondrop="resizeDropped(event)" ondragover="allowDrop(event)">
    <img src="images/puzzle-grid.png" style="width:100%; height:100%;">
  </div>
  <div class="puzzle-grid-drop" id="grid3-2" ondrop="resizeDropped(event)" ondragover="allowDrop(event)">
    <img src="images/puzzle-grid.png" style="width:100%; height:100%;">
  </div>
  <div class="puzzle-grid-drop" id="grid3-3" ondrop="resizeDropped(event)" ondragover="allowDrop(event)">
    <img src="images/puzzle-grid.png" style="width:100%; height:100%;">
  </div>

  <!-- Puzzle Pieces -->
  <img src="images/img1-1.png" class="draggable-piece" id="img1-1-draggable" draggable="true" ondragstart="event.dataTransfer.setData('text', this.id)">
  <img src="images/img1-2.png" class="draggable-piece" id="img1-2-draggable" draggable="true" ondragstart="event.dataTransfer.setData('text', this.id)">
  <img src="images/img1-3.png" class="draggable-piece" id="img1-3-draggable" draggable="true" ondragstart="event.dataTransfer.setData('text', this.id)">
  <img src="images/img2-1.png" class="draggable-piece" id="img2-1-draggable" draggable="true" ondragstart="event.dataTransfer.setData('text', this.id)">
  <img src="images/img2-2.png" class="draggable-piece" id="img2-2-draggable" draggable="true" ondragstart="event.dataTransfer.setData('text', this.id)">
  <img src="images/img2-3.png" class="draggable-piece" id="img2-3-draggable" draggable="true" ondragstart="event.dataTransfer.setData('text', this.id)">
  <img src="images/img3-1.png" class="draggable-piece" id="img3-1-draggable" draggable="true" ondragstart="event.dataTransfer.setData('text', this.id)">
  <img src="images/img3-2.png" class="draggable-piece" id="img3-2-draggable" draggable="true" ondragstart="event.dataTransfer.setData('text', this.id)">
  <img src="images/img3-3.png" class="draggable-piece" id="img3-3-draggable" draggable="true" ondragstart="event.dataTransfer.setData('text', this.id)">

  <!-- Inline JS for drag-and-drop resizing -->
  <script>
    function allowDrop(ev) {
      ev.preventDefault();
    }

    function resizeDropped(ev) {
      ev.preventDefault();
      const pieceId = ev.dataTransfer.getData("text");
      const piece = document.getElementById(pieceId);
      const target = ev.currentTarget;

      // append piece inside grid container
      target.appendChild(piece);

      // resize piece to fit the grid
      piece.style.width = target.clientWidth + "px";
      piece.style.height = target.clientHeight + "px";

      // position inside grid
      piece.style.position = "absolute";
      piece.style.top = "0";
      piece.style.left = "0";

      // optional: add a class to mark it as dropped
      piece.classList.add('dropped');
    }
  </script>

</body>
</html>
